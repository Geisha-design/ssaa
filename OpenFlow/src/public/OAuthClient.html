<div class="row">
    <div class="col-sm-20">
        <h1 class="pagetitle" translate lib="web">租户客户</h1>
    </div>
</div>

<pre ng-show="ErrorMessage!=null">{{ ErrorMessage }}</pre>
<div ng-show="ctrl.errormessage != ''"" class=" alert alert-danger" role="alert">{{ctrl.errormessage}}</div>
<form ng-submit="ctrl.submit()" class="form-horizontal" role="form" autocomplete="off">
    <div class="form-group">
        <label for="name" class="col-sm-2 control-label" translate lib="web">名称</label>
        <div class="col-sm-4">
            <input ng-model="ctrl.model.name" class="form-control input-md" ng-disabled="ctrl.loading==true" />
        </div>
    </div>
    <div class="form-group">
        <label for="clientId" class="col-sm-2 control-label" translate lib="web">租户ID</label>
        <div class="col-sm-4">
            <input ng-model="ctrl.model.clientId" class="form-control input-md" ng-disabled="ctrl.loading==true" />
        </div>
    </div>
    <div class="form-group">
        <label for="clientSecret" class="col-sm-2 control-label" translate lib="web">租户隐私</label> <a href
            ng-click="ctrl.CopySecret('.secrettext')">复制隐私</a>
        <div class="col-sm-4">
            <input ng-model="ctrl.model.clientSecret" class="form-control input-md secrettext"
                ng-disabled="ctrl.loading==true" id="clientSecret" copytext style="-webkit-text-security: disc;" />

        </div>
    </div>
    <div class="form-group">
        <label for="grants" class="col-sm-2 control-label" translate lib="web">授权</label>
        <table style="width: 50%;" class="table table-striped">
            <tr ng-repeat="id in ctrl.model.grants">
                <td style="width: 15px;"></td>
                <td>{{ id }}</td>
                <td><a href="" ng-click="ctrl.deletefromarray('grants', id)" translate lib="web">删除</a></td>
            </tr>
        </table>
    </div>
    <div class="form-inline">
        <div class="mx-sm-3 mb-4">
            <input ng-model="newgranttype" type="text" class="form-control" placeholder="New grant type"
                autocomplete="new-password">
        </div>
        <button type="button" class="btn btn-success mb-2" ng-disabled="ctrl.loading==true"
            ng-click="ctrl.addtoarray('grants', newgranttype)" translate lib="web">添加授权</button>
    </div>


    <div class="form-group">
        <label for="redirectUris" class="col-sm-2 control-label" translate lib="web">重定向</label>
        <table style="width: 50%;" class="table table-striped">
            <tr ng-repeat="id in ctrl.model.redirectUris">
                <td style="width: 15px;"></td>
                <td>{{ id }}</td>
                <td><a href="" ng-click="ctrl.deletefromarray('redirectUris', id)" translate lib="web">删除</a></td>
            </tr>
        </table>
    </div>
    <div class="form-inline">
        <div class="mx-sm-3 mb-4">
            <input ng-model="newredirecturi" type="text" class="form-control" placeholder="New redirect Uri"
                autocomplete="new-password">
        </div>
        <button type="button" class="btn btn-success mb-2" ng-disabled="ctrl.loading==true"
            ng-click="ctrl.addtoarray('redirectUris', newredirecturi)" translate lib="web">添加重定向指向</button>
    </div>



    <div class="form-group">
        <label for="defaultrole" class="col-sm-2 control-label" translate lib="web">默认权限</label>
        <div class="col-sm-4">
            <input ng-model="ctrl.model.defaultrole" class="form-control input-md" ng-disabled="ctrl.loading==true" />
        </div>
    </div>

    <div class="form-group">
        <label for="rolemappings" class="col-sm-2 control-label" translate lib="web">权限匹配</label>
        <table style="width: 50%;" class="table table-striped">
            <thead>
                <tr>
                    <th></th>
                    <th><strong translate lib="web">工作流权限</strong></th>
                    <th><strong translate lib="web">目标权限</strong></th>
                    <th></th>
                </tr>
            </thead>
            <tr ng-repeat="(key, value) in ctrl.model.rolemappings">
                <td style="width: 15px;"></td>
                <td>{{ key }}</td>
                <td>{{ value }}</td>
                <td><a href="" ng-click="ctrl.deleterolemapping(key)" translate lib="web">删除</a></td>
            </tr>
        </table>
    </div>
    <div class="form-inline">
        <div class="mx-sm-3 mb-4">
            <input ng-model="newrolemappingname" type="text" class="form-control" placeholder="openflow role name"
                autocomplete="new-password">
            <input ng-model="newrolemappingvalue" type="text" class="form-control" placeholder="oauth role name"
                autocomplete="new-password">
        </div>
        <button type="button" class="btn btn-success mb-2" ng-disabled="ctrl.loading==true"
            ng-click="ctrl.addrolemapping(newrolemappingname, newrolemappingvalue)" translate
            lib="web">添加权限匹配</button>
    </div>


    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" ng-disabled="ctrl.loading==true" class="btn btn-success" translate
                lib="web">保存</button>
        </div>
    </div>

    <div class="form-group">
        <label for="defaultrole" class="col-sm-2 control-label" translate lib="web">控制台登出</label>
        <div class="col-sm-4">
            <input type="checkbox" ng-model="ctrl.model.openflowsignout" class="input-md"
                ng-disabled="ctrl.loading==true" />
        </div>
    </div>

    <div class="form-group">
        <label for="name" class="col-sm-2 control-label" translate lib="web">登入地址</label>
        <div class="col-sm-4">
            <input ng-model="ctrl.model.signin_url" class="form-control input-md" ng-disabled="ctrl.loading==true" />
        </div>
    </div>

    <div class="form-group">
        <label for="defaultrole" class="col-sm-2 control-label" translate lib="web">密钥终端方法</label>
        <div class="col-sm-4">
            <select ng-model="ctrl.model.token_endpoint_auth_method" class="form-control input-md"
                ng-disabled="ctrl.loading==true">
                <option>无</option>
                <option>租户发布密钥</option>
                <option>租户基本密钥</option>
                <option>租户隐私密钥</option>
                <option>租户超级密钥</option>
            </select>
        </div>
    </div>


    <div class="form-group">
        <label for="response_types" class="col-sm-2 control-label" translate lib="web">回复模式</label>
        <table style="width: 50%;" class="table table-striped">
            <tr ng-repeat="id in ctrl.model.response_types">
                <td style="width: 15px;"></td>
                <td>{{ id }}</td>
                <td><a href="" ng-click="ctrl.deletefromarray('response_types', id)" translate lib="web">删除</a></td>
            </tr>
        </table>
    </div>
    <div class="form-inline">
        <div class="mx-sm-3 mb-4">
            <input ng-model="newresponsetype" type="text" class="form-control" placeholder="New response type"
                autocomplete="new-password">
        </div>
        <button type="button" class="btn btn-success mb-2" ng-disabled="ctrl.loading==true"
            ng-click="ctrl.addtoarray('response_types', newresponsetype)" translate lib="web">添加回传模式</button>
    </div>


    <div class="form-group">
        <label for="post_logout_redirect_uris" class="col-sm-2 control-label" translate
            lib="web">访问退出重定向地址</label>
        <table style="width: 50%;" class="table table-striped">
            <tr ng-repeat="id in ctrl.model.post_logout_redirect_uris">
                <td style="width: 15px;"></td>
                <td>{{ id }}</td>
                <td><a href="" ng-click="ctrl.deletefromarray('post_logout_redirect_uris', id)" translate
                        lib="web">删除</a></td>
            </tr>
        </table>
    </div>
    <div class="form-inline">
        <div class="mx-sm-3 mb-4">
            <input ng-model="newpostredirecturi" type="text" class="form-control" placeholder="New redirect Uri"
                autocomplete="new-password">
        </div>
        <button type="button" class="btn btn-success mb-2" ng-disabled="ctrl.loading==true"
            ng-click="ctrl.addtoarray('post_logout_redirect_uris', newpostredirecturi)" translate
            lib="web">添加访问重定向地址</button>
    </div>

</form>